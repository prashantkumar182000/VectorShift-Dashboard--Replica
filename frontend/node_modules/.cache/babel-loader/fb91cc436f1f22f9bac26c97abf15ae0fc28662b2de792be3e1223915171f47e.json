{"ast":null,"code":"import _toConsumableArray from\"/media/user/13125fdb-ae7d-4997-aceb-5ecc6c3abf3d3/Projects/Prashant_Kumar_technical_assessment/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/media/user/13125fdb-ae7d-4997-aceb-5ecc6c3abf3d3/Projects/Prashant_Kumar_technical_assessment/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// src/nodes/TextNode.js\nimport{useState,useEffect}from'react';import{BaseNode}from'./BaseNode';import{Position}from'reactflow';import{useStore}from'../store';// Utility function to extract variables from text\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var extractVariables=function extractVariables(text){var regex=/{{\\s*([a-zA-Z_$][0-9a-zA-Z_$]*)\\s*}}/g;var match;var variables=[];while((match=regex.exec(text))!==null){variables.push(match[1]);}return variables;};export var TextNode=function TextNode(_ref){var id=_ref.id,data=_ref.data;var _useState=useState((data===null||data===void 0?void 0:data.text)||'{{input}}'),_useState2=_slicedToArray(_useState,2),currText=_useState2[0],setCurrText=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),variableHandles=_useState4[0],setVariableHandles=_useState4[1];var updateNodeField=useStore(function(state){return state.updateNodeField;});var handleTextChange=function handleTextChange(e){return setCurrText(e.target.value);};var nodeStyle={width:Math.max(200,currText.length*10),height:Math.max(100,currText.split('\\n').length*20),border:'1px solid #ddd',borderRadius:8,padding:10,boxShadow:'0 2px 8px rgba(0, 0, 0, 0.2)',backgroundColor:'#fff',overflow:'hidden'};return/*#__PURE__*/_jsx(BaseNode,{id:id,label:\"Text\",handles:[{type:'source',position:Position.Right,id:'output',style:{top:'60%'}},{type:'target',position:Position.Left,id:'input',style:{top:'30%'}}].concat(_toConsumableArray(variableHandles)),style:nodeStyle,children:/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:5},children:/*#__PURE__*/_jsxs(\"label\",{children:[\"Text:\",/*#__PURE__*/_jsx(\"textarea\",{value:currText,onChange:handleTextChange,style:{marginLeft:5,padding:5,borderRadius:4,border:'1px solid #ccc',width:'100%',height:'100%',boxSizing:'border-box'}})]})})});};","map":{"version":3,"names":["useState","useEffect","BaseNode","Position","useStore","jsx","_jsx","jsxs","_jsxs","extractVariables","text","regex","match","variables","exec","push","TextNode","_ref","id","data","_useState","_useState2","_slicedToArray","currText","setCurrText","_useState3","_useState4","variableHandles","setVariableHandles","updateNodeField","state","handleTextChange","e","target","value","nodeStyle","width","Math","max","length","height","split","border","borderRadius","padding","boxShadow","backgroundColor","overflow","label","handles","type","position","Right","style","top","Left","concat","_toConsumableArray","children","display","flexDirection","gap","onChange","marginLeft","boxSizing"],"sources":["/media/user/13125fdb-ae7d-4997-aceb-5ecc6c3abf3d3/Projects/Prashant_Kumar_technical_assessment/frontend/src/nodes/textNode.js"],"sourcesContent":["// src/nodes/TextNode.js\nimport { useState, useEffect } from 'react';\nimport { BaseNode } from './BaseNode';\nimport { Position } from 'reactflow';\nimport { useStore } from '../store';\n\n// Utility function to extract variables from text\nconst extractVariables = (text) => {\n  const regex = /{{\\s*([a-zA-Z_$][0-9a-zA-Z_$]*)\\s*}}/g;\n  let match;\n  const variables = [];\n  while ((match = regex.exec(text)) !== null) {\n    variables.push(match[1]);\n  }\n  return variables;\n};\n\nexport const TextNode = ({ id, data }) => {\n  const [currText, setCurrText] = useState(data?.text || '{{input}}');\n  const [variableHandles, setVariableHandles] = useState([]);\n  const updateNodeField = useStore(state => state.updateNodeField);\n\n\n\n  const handleTextChange = (e) => setCurrText(e.target.value);\n\n  const nodeStyle = {\n    width: Math.max(200, currText.length * 10),\n    height: Math.max(100, currText.split('\\n').length * 20),\n    border: '1px solid #ddd',\n    borderRadius: 8,\n    padding: 10,\n    boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\n    backgroundColor: '#fff',\n    overflow: 'hidden',\n  };\n\n  return (\n    <BaseNode\n      id={id}\n      label=\"Text\"\n      handles={[\n        { type: 'source', position: Position.Right, id: 'output', style: { top: '60%' } },\n        { type: 'target', position: Position.Left, id: 'input', style: { top: '30%' } },\n        ...variableHandles,\n      ]}\n      style={nodeStyle}\n    >\n      <div style={{ display: 'flex', flexDirection: 'column', gap: 5 }}>\n        <label>\n          Text:\n          <textarea\n            value={currText}\n            onChange={handleTextChange}\n            style={{\n              marginLeft: 5,\n              padding: 5,\n              borderRadius: 4,\n              border: '1px solid #ccc',\n              width: '100%',\n              height: '100%',\n              boxSizing: 'border-box',\n            }}\n          />\n        </label>\n      </div>\n    </BaseNode>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}